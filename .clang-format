---
# Omusubi C++ Formatting Style
# Based on LLVM style with customizations for embedded C++ development

Language: Cpp
BasedOnStyle: LLVM

# インデント設定
IndentWidth: 4
TabWidth: 4
UseTab: Never
ColumnLimit: 100

# 中括弧の配置
BreakBeforeBraces: Attach
AllowShortFunctionsOnASingleLine: Inline
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false

# ポインタと参照の配置
PointerAlignment: Left
ReferenceAlignment: Left

# 名前空間
NamespaceIndentation: None
CompactNamespaces: false

# インクルードの整理
SortIncludes: CaseInsensitive
IncludeBlocks: Regroup
IncludeCategories:
  # プロジェクトのヘッダー
  - Regex:           '^"omusubi/'
    Priority:        1
  # システムヘッダー
  - Regex:           '^<.*\.h>'
    Priority:        2
  # C++標準ライブラリ
  - Regex:           '^<.*'
    Priority:        3
  # その他
  - Regex:           '.*'
    Priority:        4

# アクセス修飾子
AccessModifierOffset: -4

# コンストラクタ初期化リスト
ConstructorInitializerIndentWidth: 4
BreakConstructorInitializers: BeforeColon

# 関数引数
AllowAllArgumentsOnNextLine: true
AllowAllParametersOfDeclarationOnNextLine: true
BinPackArguments: false
BinPackParameters: false

# 空行
MaxEmptyLinesToKeep: 1
KeepEmptyLinesAtTheStartOfBlocks: false

# その他
AlignConsecutiveAssignments: None
AlignConsecutiveDeclarations: None
AlignOperands: Align
AlignTrailingComments: true
AllowShortBlocksOnASingleLine: Empty
IndentCaseLabels: true
SpaceAfterCStyleCast: false
SpaceBeforeParens: ControlStatements
SpacesInAngles: false
